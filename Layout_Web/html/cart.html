<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LHL Furniture</title>
    <link rel="stylesheet" type="text/css" href=" ../css/cart.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
    <link rel="stylesheet" href="../OwlCarousel2-2.3.4/src/js/owl.carousel.js">
    <link rel="stylesheet" href="../OwlCarousel2-2.3.4/dist/assets/owl.carousel.min.css">
    <link rel="stylesheet" href="../OwlCarousel2-2.3.4/dist/assets/owl.theme.green.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.7.2/animate.min.css">
</head>
<script src='https://kit.fontawesome.com/a076d05399.js'></script>
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@9"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
<script type="text/javascript" src="../js/jquery/jquery-3.5.0.min.js"></script>
<script src="../OwlCarousel2-2.3.4/dist/owl.carousel.min.js"></script>

<body>
    <div class="modal fade" id="elegantModalForm" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="z-index: 123313123;">
        <div class="modal-dialog modal-dialog-centered " role="document">

            <div class="modal-content form-elegant">

                <div class="modal-header text-center">
                    <h3 class="modal-title w-100 dark-grey-text font-weight-bold my-3" id="myModalLabel"><strong>Sign in</strong></h3>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
      <span aria-hidden="true">&times;</span>
    </button>
                </div>
                <div class="modal-body mx-4">
                    <div class="md-form mb-5">
                        <input type="email" id="Form-email1" class="form-control validate">
                        <label data-error="wrong" data-success="right" for="Form-email1">Your email</label>
                    </div>
                    <div class="md-form pb-3">
                        <input type="password" id="Form-pass1" class="form-control validate">
                        <label data-error="wrong" data-success="right" for="Form-pass1">Your password</label>
                    </div>
                    <div class="text-center mb-3">
                        <button type="button" class="btn blue-gradient btn-block btn-rounded z-depth-1a">Sign in</button>
                    </div>
                    <p class="font-small dark-grey-text text-right d-flex justify-content-center mb-3 pt-2"> or Sign in with:
                    </p>
                    <div class="row my-3 d-flex justify-content-center">
                        <button type="button" class="btn btn-white btn-rounded mr-md-3 z-depth-1a"><i class="fab fa-facebook-f text-center"></i></button>
                        <button type="button" class="btn btn-white btn-rounded mr-md-3 z-depth-1a"><i class="fab fa-twitter"></i></button>
                        <button type="button" class="btn btn-white btn-rounded z-depth-1a"><i class="fab fa-google-plus-g"></i></button>
                    </div>
                </div>

                <div class="modal-footer mx-5 pt-3 mb-1">
                    <p class="font-small grey-text d-flex justify-content-end">Not a member? <a href="#" class="blue-text ml-1">
        Sign Up</a></p>
                </div>
            </div>
        </div>
    </div>
    <!---->
    <!--modal-search-->
    <div class="modal fade bd-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true" style="z-index: 123313123;">
        <div class="modal-dialog modal-lg modal-dialog-centered">
            <div class="modal-content">
                <form class="form-inline d-flex justify-content-center md-form form-sm mt-0 w-100" action="">
                    <input class=" form-control form-control-sm ml-3 w-100" type="text" placeholder="Search" aria-label="Search" style=" border:none;" id="search">
                </form>
            </div>
        </div>
    </div>

    <div class="container-fluid menu pl-0 pr-0">
        <nav class="navbar navbar-expand-md   navbar11 " style=" ">
            <a class="navbar-brand " href="Home.html"><img src="../img/LogoLHL.png" width="40px"></a>
            <button class="navbar-toggler btn-light" type="button" data-toggle="collapse" data-target="#collapsibleNavbar">
          <i class="fa fa-bars" aria-hidden="true"></i>
                            </button>
            <div class="collapse navbar-collapse" id="collapsibleNavbar">
                <div class=" " style="margin:0px auto;">
                    <ul class="navbar-nav ">
                        <li class="nav-item">
                            <a class="nav-link ml-2" href="Home.html">Trang Chủ <span></span></a>
                        </li>
                        <li class="nav-item">

                            <a class="nav-link ml-2" href="#"> <span></span>Liên Hệ</a>

                        </li>

                        <li class="nav-item">
                            <a class="nav-link ml-2" href="#"><span></span>Trợ Giúp</a>
                        </li>

                        <li class="nav-item">
                            <a class="nav-link ml-2" href="#"><span></span>Sản Phẩm</a>
                            <div class="container " style=" background-color:white">
                                <ul class="sub-menu ">

                                </ul>
                            </div>
                        </li>


                        <li class="nav-item cart">
                            <a class="nav-link ml-2" href="cart.html">Giỏ Hàng <p>0</p></a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link ml-2" href="#" data-toggle="modal" data-target="#elegantModalForm"><span></span>Tài Khoản</a>
                        </li>
                        <li class="nav-item ">
                            <a class="nav-link ml-2" href="#" data-toggle="modal" data-target=".bd-example-modal-lg"><span></span>
                            <img src="../img/icon/search-3-48.png" width="25px"/>
                        </a>
                        </li>
                    </ul>
                </div>

            </div>

        </nav>
    </div>
    <div class="">

        <div class=""><img src="https://demo.goodlayers.com/inteco/wp-content/uploads/2018/09/shutterstock_543421996.jpg" alt="" class=" img-fluid-1"></div>


    </div>
    <!---->
    <div class="products-container">
        <div class="product-header">
            <h5 class=" product-title">PRODUCT</h5>
            <h5 class="price">PRICE</h5>
            <h5 class="quantity">QUANITY</h5>
            <h5 class=" total">TOTAL</h5>
        </div>
        <div class="products">

        </div>
    </div>

    <!---->
    <script>
        $(window).scroll(function() {
            var scroll = $(window).scrollTop();

            if (scroll >= 50) {
                $(".navbar11").addClass("scroll-navbar");

            } else {
                $(".navbar11").removeClass("scroll-navbar");
            }
        });
    </script>
    <script>
        let carts = document.querySelectorAll(".add-cart");

        let product = [{
            name: "Sản Phẩm 1",
            tag: "arboard24-1580985424",
            price: 100000,
            inCart: 0

        }, {
            name: "Sản Phẩm 2",
            tag: "5-sofa-1587982024",
            price: 1000000,
            inCart: 0
        }, {
            name: "Sản Phẩm 3",
            tag: "arboard24-1580985424",
            price: 100000000,
            inCart: 0
        }]
        for (let i = 0; i < carts.length; i++) {
            carts[i].addEventListener('click', () => {
                cartNumbers(product[i]);
                totalCost(product[i]);
            })

        }

        function onLoadCartsNumbers() {
            let productNumbers = localStorage.getItem('cartNumbers');
            if (productNumbers) {
                document.querySelector('.cart p').textContent = productNumbers;
            }
        }


        function cartNumbers(product) {

            let productNumbers = localStorage.getItem('cartNumbers');


            productNumbers = parseInt(productNumbers);

            if (productNumbers) {
                localStorage.setItem('cartNumbers', productNumbers + 1);
                document.querySelector('.cart p').textContent = productNumbers + 1;
            } else {
                localStorage.setItem('cartNumbers', 1);
                document.querySelector('.cart p').textContent = 1;
            }

            setItems(product);
        }

        function setItems(product) {
            let cartItems = localStorage.getItem('productsInCart');
            cartItems = JSON.parse(cartItems);

            if (cartItems != null) {
                if (cartItems[product.tag] == undefined) {
                    cartItems = {
                        ...cartItems,
                        [product.tag]: product
                    }
                }

                cartItems[product.tag].inCart += 1;
            } else {
                product.inCart = 1;
                cartItems = {
                    [product.tag]: product
                }
            }



            localStorage.setItem("productsInCart", JSON.stringify(cartItems));
        }


        function totalCost(product) {
            let cartCost = localStorage.getItem('totalCost');

            if (cartCost != null) {
                cartCost = parseInt(cartCost);
                localStorage.setItem("totalCost", cartCost + product.price);
            } else {
                localStorage.setItem("totalCost", product.price);
            }
        }

        function displayCart() {
            let cartItems = localStorage.getItem("productsInCart");
            cartItems = JSON.parse(cartItems);
            console.log(cartItems);
            let productContainer = document.querySelector(".products");
            let cartCost = localStorage.getItem('totalCost');

            console.log(cartItems);
            if (cartItems && productContainer) {
                productContainer.innerHTML = '';
                Object.values(cartItems).map(item => {
                    productContainer.innerHTML += `
         
                     <div class="product">
                        <button> <i class="far fa-times-circle" id="btn"></i></button>
                        <img src="../img/${item.tag}.jpg" class=" img-fluid" style="width:75px">
                            <span>${item.name}</span>
                    </div>
                        <div class="price">${item.price}Đ</div>
                        <div class="quantity"><i class="fas fa-arrow-left"></i>
                            <span>${item.inCart}</span>
                            <i class="fas fa-arrow-right"></i>
                        </div>
                        <div class="total">
                             <div id="box">   ${item.inCart * item.price}Đ</div>
                        </div>                                                      
                           `;


                });
                productContainer.innerHTML += `
                <div class="box">
                    <h4 class="box1">total</h4>
                    <h4 class="box2">${cartCost}</h4>      
                    </div>
                            `;

            }
            $("#btn").click(function() {

            });

        }


        onLoadCartsNumbers();
        displayCart();
    </script>

</body>

</html>